# å‰ç«¯äº‹ä»¶åˆ†ç»„ä¼˜åŒ–å®Œæ•´æ–¹æ¡ˆ

## ğŸ“‹ é—®é¢˜åˆ†æ

### å½“å‰æ¶æ„é—®é¢˜
1. **äº‹ä»¶å¤„ç†é‡å¤**ï¼šworkspaceé¡µé¢å’Œunified-storeéƒ½å¤„ç†ç›¸åŒçš„SSEäº‹ä»¶
2. **æ¶ˆæ¯æ¨¡å‹é”™è¯¯**ï¼šæ¯ä¸ªSSEäº‹ä»¶éƒ½è½¬æ¢ä¸ºç‹¬ç«‹Messageï¼Œç¼ºå°‘äº‹ä»¶åˆ†ç»„æ¦‚å¿µ
3. **OutputStreamæ˜¾ç¤ºé—®é¢˜**ï¼š
   - æ»šåŠ¨é‡å¤è§¦å‘
   - æ—¶é—´æ’åºé”™è¯¯ï¼ˆå­—ç¬¦ä¸²æ¯”è¾ƒè€Œéæ—¶é—´æ¯”è¾ƒï¼‰
   - ç¼ºå°‘æµå¼æ˜¾ç¤ºï¼ˆåŒä¸€eventçš„å¤šä¸ªchunkåˆ†ç¦»æ˜¾ç¤ºï¼‰

### æŠ€æœ¯äº‹å®ç¡®è®¤
- **åç«¯SSEäº‹ä»¶**ï¼š13ç§ç±»å‹ï¼ˆnavigation, metadata, node_start, node_complete, plan_generated, search_results, agent_output, message_chunk, artifact, progress, interrupt, complete, errorï¼‰
- **å‰ç«¯å¤„ç†å±‚æ¬¡**ï¼šfetch-stream.ts â†’ research-stream.ts â†’ workspace/page.tsx â†’ unified-store.ts
- **å½“å‰æ¶ˆæ¯æ¨¡å‹**ï¼šæ¯ä¸ªSSEäº‹ä»¶ = ä¸€ä¸ªMessageå¯¹è±¡
- **OutputStreamæœŸæœ›**ï¼šæŒ‰äº‹ä»¶ç±»å‹åˆ†ç»„ï¼ŒåŒä¸€äº‹ä»¶çš„å¤šä¸ªchunkåˆå¹¶æ˜¾ç¤º

## ğŸ¯ ä¼˜åŒ–æ–¹æ¡ˆ

### æ ¸å¿ƒè®¾è®¡åŸåˆ™
1. **äº‹ä»¶åˆ†ç»„**ï¼šç›¸åŒç±»å‹çš„äº‹ä»¶åº”è¯¥åˆ†ç»„æ˜¾ç¤º
2. **æµå¼åˆå¹¶**ï¼šmessage_chunkäº‹ä»¶åº”è¯¥æŒ‰chunk_idåˆå¹¶
3. **æ—¶åºå‡†ç¡®**ï¼šä½¿ç”¨çœŸå®æ—¶é—´æˆ³æ’åº
4. **èŒè´£åˆ†ç¦»**ï¼šé¿å…é‡å¤çš„äº‹ä»¶å¤„ç†é€»è¾‘

### æ–¹æ¡ˆ1ï¼šEvent-Based Message Modelï¼ˆæ¨èï¼‰

#### æ•°æ®ç»“æ„è®¾è®¡
```typescript
// æ‰©å±•Messageç±»å‹ï¼Œæ”¯æŒäº‹ä»¶åˆ†ç»„
interface EventMessage extends Message {
  eventType: SSEEventType;           // äº‹ä»¶ç±»å‹
  eventId: string;                   // äº‹ä»¶å”¯ä¸€ID
  chunks: MessageChunk[];            // äº‹ä»¶åŒ…å«çš„æ‰€æœ‰chunk
  isEventComplete: boolean;          // äº‹ä»¶æ˜¯å¦å®Œæˆ
  eventMetadata: {
    startTime: string;               // äº‹ä»¶å¼€å§‹æ—¶é—´
    endTime?: string;                // äº‹ä»¶ç»“æŸæ—¶é—´
    nodeContext?: string;            // èŠ‚ç‚¹ä¸Šä¸‹æ–‡
    [key: string]: any;
  };
}

interface MessageChunk {
  chunkId: string;
  content: string;
  sequence: number;
  timestamp: string;
  isFinal: boolean;
}
```

#### äº‹ä»¶åˆ†ç»„é€»è¾‘
```typescript
// äº‹ä»¶åˆ†ç»„ç­–ç•¥
const groupEvents = (sseEvents: SSEEvent[]): EventMessage[] => {
  const eventGroups = new Map<string, EventMessage>();
  
  for (const event of sseEvents) {
    const eventId = generateEventId(event);
    
    if (event.type === 'message_chunk') {
      // message_chunkæŒ‰chunk_idåˆ†ç»„
      const chunkEventId = event.data.chunk_id;
      if (!eventGroups.has(chunkEventId)) {
        eventGroups.set(chunkEventId, createEventMessage(event));
      }
      addChunkToEvent(eventGroups.get(chunkEventId)!, event.data);
    } else {
      // å…¶ä»–äº‹ä»¶ç±»å‹ç‹¬ç«‹å¤„ç†
      eventGroups.set(eventId, createEventMessage(event));
    }
  }
  
  return Array.from(eventGroups.values());
};
```

### æ–¹æ¡ˆ2ï¼šHybrid Message Modelï¼ˆå¤‡é€‰ï¼‰

#### ä¿æŒç°æœ‰Messageæ¥å£ï¼Œæ·»åŠ äº‹ä»¶åˆ†ç»„å±‚
```typescript
// åœ¨OutputStreamç»„ä»¶å±‚é¢è¿›è¡Œåˆ†ç»„
interface EventGroup {
  eventType: SSEEventType;
  eventId: string;
  messages: Message[];              // å±äºè¯¥äº‹ä»¶çš„æ‰€æœ‰æ¶ˆæ¯
  startTime: string;
  endTime?: string;
  isComplete: boolean;
}

// OutputStreamä½¿ç”¨EventGroupè€Œéç›´æ¥ä½¿ç”¨Message
const groupMessagesIntoEvents = (messages: Message[]): EventGroup[] => {
  // æŒ‰äº‹ä»¶ç±»å‹å’Œæ—¶é—´çª—å£åˆ†ç»„æ¶ˆæ¯
};
```

## ğŸ”§ å®æ–½è®¡åˆ’

### é˜¶æ®µ1ï¼šä¿®å¤OutputStreamæ»šåŠ¨å’Œæ’åºé—®é¢˜
- **ç›®æ ‡**ï¼šè§£å†³é‡å¤åˆ·æ–°å’Œæ—¶é—´æ’åºé”™è¯¯
- **ä¿®æ”¹èŒƒå›´**ï¼šä»…`output-stream.tsx`
- **æŠ€æœ¯æ–¹æ¡ˆ**ï¼š
  1. ä¿®å¤useEffectä¾èµ–ï¼Œé¿å…é‡å¤è§¦å‘
  2. ä½¿ç”¨Dateå¯¹è±¡è¿›è¡Œæ—¶é—´æ’åº
  3. ä¼˜åŒ–æ»šåŠ¨é€»è¾‘

### é˜¶æ®µ2ï¼šå®ç°äº‹ä»¶åˆ†ç»„æ˜¾ç¤º
- **ç›®æ ‡**ï¼šåŒä¸€äº‹ä»¶çš„å¤šä¸ªchunkåœ¨ä¸€å¼ å¡ç‰‡å†…æ˜¾ç¤º
- **ä¿®æ”¹èŒƒå›´**ï¼š`output-stream.tsx`ç»„ä»¶é€»è¾‘
- **æŠ€æœ¯æ–¹æ¡ˆ**ï¼š
  1. åœ¨ç»„ä»¶å±‚é¢å¯¹Messageè¿›è¡Œåˆ†ç»„
  2. ä¿®æ”¹æ¸²æŸ“é€»è¾‘ï¼Œæ”¯æŒäº‹ä»¶å¡ç‰‡
  3. å®ç°æµå¼å†…å®¹æ›´æ–°

### é˜¶æ®µ3ï¼šç»Ÿä¸€äº‹ä»¶å¤„ç†é€»è¾‘
- **ç›®æ ‡**ï¼šé¿å…workspaceé¡µé¢å’Œstoreé‡å¤å¤„ç†
- **ä¿®æ”¹èŒƒå›´**ï¼š`workspace/page.tsx`å’Œ`unified-store.ts`
- **æŠ€æœ¯æ–¹æ¡ˆ**ï¼š
  1. å°†äº‹ä»¶å¤„ç†é€»è¾‘é›†ä¸­åˆ°store
  2. workspaceé¡µé¢åªè´Ÿè´£UIçŠ¶æ€ç®¡ç†
  3. ç»Ÿä¸€æ¶ˆæ¯åˆ›å»ºé€»è¾‘

### é˜¶æ®µ4ï¼šä¼˜åŒ–æ•°æ®æ¨¡å‹ï¼ˆå¯é€‰ï¼‰
- **ç›®æ ‡**ï¼šä»æ ¹æœ¬ä¸Šæ”¯æŒäº‹ä»¶åˆ†ç»„
- **ä¿®æ”¹èŒƒå›´**ï¼šMessageç±»å‹å®šä¹‰å’Œç›¸å…³æ¥å£
- **æŠ€æœ¯æ–¹æ¡ˆ**ï¼š
  1. æ‰©å±•Messageæ¥å£æ”¯æŒäº‹ä»¶æ¦‚å¿µ
  2. ä¿®æ”¹storeçš„æ¶ˆæ¯ç®¡ç†é€»è¾‘
  3. æ›´æ–°ç›¸å…³ç»„ä»¶é€‚é…æ–°æ¨¡å‹

## ğŸš¨ é£é™©æ§åˆ¶

### å‘åå…¼å®¹æ€§
- ä¿æŒç°æœ‰Messageæ¥å£ä¸å˜
- æ–°åŠŸèƒ½é€šè¿‡æ‰©å±•å®ç°
- æ¸è¿›å¼è¿ç§»ï¼Œé¿å…ç ´åæ€§å˜æ›´

### æ€§èƒ½è€ƒè™‘
- äº‹ä»¶åˆ†ç»„åœ¨ç»„ä»¶å±‚é¢è¿›è¡Œï¼Œé¿å…å½±å“storeæ€§èƒ½
- ä½¿ç”¨useMemoç¼“å­˜åˆ†ç»„ç»“æœ
- é™åˆ¶åŒæ—¶æ˜¾ç¤ºçš„äº‹ä»¶æ•°é‡

### æµ‹è¯•ç­–ç•¥
- æ¯ä¸ªé˜¶æ®µå®Œæˆåè¿›è¡ŒåŠŸèƒ½æµ‹è¯•
- ç¡®ä¿ç°æœ‰åŠŸèƒ½ä¸å—å½±å“
- é‡ç‚¹æµ‹è¯•æµå¼æ˜¾ç¤ºå’Œæ—¶åºå‡†ç¡®æ€§

## ğŸ“Š æŠ€æœ¯å†³ç­–è®°å½•

### é€‰æ‹©æ–¹æ¡ˆ1çš„ç†ç”±
1. **æœ€å°ä¾µå…¥æ€§**ï¼šåœ¨ç»„ä»¶å±‚é¢å¤„ç†åˆ†ç»„ï¼Œä¸å½±å“åº•å±‚æ•°æ®æ¨¡å‹
2. **å¿«é€Ÿå®ç°**ï¼šå¯ä»¥ç«‹å³å¼€å§‹ä¿®å¤ï¼Œæ— éœ€å¤§è§„æ¨¡é‡æ„
3. **é£é™©å¯æ§**ï¼šæ¯ä¸ªé˜¶æ®µéƒ½å¯ä»¥ç‹¬ç«‹æµ‹è¯•å’ŒéªŒè¯

### å…³é”®æŠ€æœ¯ç‚¹
1. **äº‹ä»¶IDç”Ÿæˆ**ï¼šåŸºäºäº‹ä»¶ç±»å‹ã€æ—¶é—´æˆ³å’Œä¸Šä¸‹æ–‡ç”Ÿæˆå”¯ä¸€ID
2. **chunkåˆå¹¶ç­–ç•¥**ï¼šæŒ‰chunk_idå’Œsequenceåˆå¹¶message_chunk
3. **æ—¶é—´æ’åº**ï¼šä½¿ç”¨ISOæ—¶é—´æˆ³è¿›è¡Œå‡†ç¡®æ’åº
4. **æµå¼æ›´æ–°**ï¼šæ”¯æŒäº‹ä»¶å†…å®¹çš„å®æ—¶æ›´æ–°

## ğŸ¯ é¢„æœŸæ•ˆæœ

### ç”¨æˆ·ä½“éªŒæ”¹è¿›
1. **æµç•…æ»šåŠ¨**ï¼šè§£å†³é‡å¤åˆ·æ–°é—®é¢˜
2. **æ¸…æ™°åˆ†ç»„**ï¼šç›¸å…³å†…å®¹åœ¨åŒä¸€å¡ç‰‡æ˜¾ç¤º
3. **å‡†ç¡®æ—¶åº**ï¼šäº‹ä»¶æŒ‰çœŸå®æ—¶é—´é¡ºåºæ’åˆ—
4. **æµå¼ä½“éªŒ**ï¼šå®æ—¶çœ‹åˆ°å†…å®¹ç”Ÿæˆè¿‡ç¨‹

### æŠ€æœ¯æ¶æ„æ”¹è¿›
1. **èŒè´£æ¸…æ™°**ï¼šäº‹ä»¶å¤„ç†é€»è¾‘ç»Ÿä¸€ç®¡ç†
2. **æ€§èƒ½ä¼˜åŒ–**ï¼šå‡å°‘é‡å¤å¤„ç†å’Œæ¸²æŸ“
3. **å¯ç»´æŠ¤æ€§**ï¼šä»£ç ç»“æ„æ›´æ¸…æ™°
4. **æ‰©å±•æ€§**ï¼šæ”¯æŒæœªæ¥æ–°çš„äº‹ä»¶ç±»å‹

---

## ğŸ¯ å®æ–½è¿›åº¦

### âœ… é˜¶æ®µ1ï¼šä¿®å¤OutputStreamæ»šåŠ¨å’Œæ’åºé—®é¢˜ï¼ˆå·²å®Œæˆï¼‰

#### ä¿®å¤å†…å®¹
1. **æ»šåŠ¨é‡å¤è§¦å‘é—®é¢˜**ï¼š
   - **åŸå› **ï¼šuseEffectä¾èµ–messagesæ•°ç»„ï¼Œæ¯æ¬¡æ•°ç»„å¼•ç”¨å˜åŒ–éƒ½è§¦å‘æ»šåŠ¨
   - **è§£å†³**ï¼šæ”¹ä¸ºä¾èµ–messagesLengthï¼Œåªåœ¨æ¶ˆæ¯æ•°é‡å˜åŒ–æ—¶æ»šåŠ¨
   - **ä¼˜åŒ–**ï¼šä½¿ç”¨requestAnimationFrameç¡®ä¿DOMæ›´æ–°åå†æ»šåŠ¨

2. **æ—¶é—´æ’åºä¸å‡†ç¡®é—®é¢˜**ï¼š
   - **åŸå› **ï¼šä½¿ç”¨å­—ç¬¦ä¸²localeCompareæ¯”è¾ƒæ—¶é—´æˆ³ï¼Œä¸åŒæ ¼å¼æ’åºé”™è¯¯
   - **è§£å†³**ï¼šè§£æä¸ºDateå¯¹è±¡è¿›è¡ŒçœŸå®æ—¶é—´æ¯”è¾ƒ
   - **Fallbackç­–ç•¥**ï¼šæœ‰æ•ˆæ—¶é—´æˆ³ä¼˜å…ˆï¼Œæœ€åfallbackåˆ°IDå­—ç¬¦ä¸²æ’åº

#### æŠ€æœ¯æ”¹è¿›
```typescript
// æ»šåŠ¨ä¼˜åŒ–
const messagesLength = messages?.length || 0;
useEffect(() => {
  if (autoScroll && scrollAreaRef.current && messagesLength > 0) {
    requestAnimationFrame(() => {
      scrollContainer.scrollTop = scrollContainer.scrollHeight;
    });
  }
}, [messagesLength, autoScroll]); // ä¾èµ–é•¿åº¦è€Œéæ•°ç»„

// æ—¶é—´æ’åºä¼˜åŒ–
const dateA = new Date(timeA);
const dateB = new Date(timeB);
if (dateA && dateB) {
  return dateA.getTime() - dateB.getTime(); // çœŸå®æ—¶é—´æ¯”è¾ƒ
}
```

#### éªŒè¯ç»“æœ
- âœ… TypeScriptç±»å‹æ£€æŸ¥é€šè¿‡
- âœ… æ»šåŠ¨é€»è¾‘ä¼˜åŒ–ï¼Œé¿å…é‡å¤è§¦å‘
- âœ… æ—¶é—´æ’åºå‡†ç¡®ï¼Œæ”¯æŒå¤šç§æ—¶é—´æˆ³æ ¼å¼

**ä¸‹ä¸€æ­¥**ï¼šå¼€å§‹é˜¶æ®µ2çš„å®æ–½ï¼Œå®ç°äº‹ä»¶åˆ†ç»„æ˜¾ç¤ºã€‚

### âœ… é˜¶æ®µ2ï¼šå®ç°æ¶ˆæ¯å—åˆå¹¶é€»è¾‘ï¼ˆå·²å®Œæˆï¼‰

#### æŠ€æœ¯äº‹å®ç¡®è®¤
é€šè¿‡åˆ†æåç«¯ä»£ç `src/server/research_stream_api.py`ï¼Œç¡®è®¤äº†MessageChunkçš„åˆ†ç»„é€»è¾‘ï¼š

**åç«¯ç”Ÿæˆé€»è¾‘**ï¼š
```python
chunk_event = MessageChunkEvent(
    chunk_id=str(uuid.uuid4()),      # æ¯ä¸ªchunkçš„å”¯ä¸€UUIDï¼ˆä¸ç”¨äºåˆ†ç»„ï¼‰
    execution_id=execution_id,       # ğŸ”¥ æ‰§è¡Œçº§åˆ«æ ‡è¯†ï¼ˆç”¨äºåˆ†ç»„ï¼‰
    agent_name=node_name,           # ğŸ”¥ ä»£ç†åç§°ï¼ˆç”¨äºåˆ†ç»„ï¼‰
    chunk_type=self._determine_chunk_type(...),  # ğŸ”¥ chunkç±»å‹ï¼ˆç”¨äºåˆ†ç»„ï¼‰
    sequence=len(messages),         # ğŸ”¥ åºåˆ—å·ï¼ˆç”¨äºæ’åºï¼‰
    is_final=False,                 # ğŸ”¥ ç»“æŸæ ‡è®°
    # ...
)
```

**åˆ†ç»„ç­–ç•¥**ï¼š
- **åˆ†ç»„é”®**ï¼š`execution_id + agent_name + chunk_type`
- **æ’åºä¾æ®**ï¼š`sequence`å­—æ®µ
- **ç»“æŸæ ‡è®°**ï¼š`is_final: true`

#### å®æ–½å†…å®¹

1. **åˆ›å»ºmergeMessageChunkæ–¹æ³•**ï¼ˆunified-store.tsï¼‰ï¼š
   - åŸºäº`execution_id + agent_name + chunk_type`ç”Ÿæˆå”¯ä¸€messageId
   - æŸ¥æ‰¾ç°æœ‰æ¶ˆæ¯æˆ–åˆ›å»ºæ–°æ¶ˆæ¯
   - æŒ‰sequenceæ’åºåˆå¹¶content chunks
   - æ ¹æ®is_finalæ›´æ–°isStreamingçŠ¶æ€

2. **ä¿®æ”¹workspaceé¡µé¢äº‹ä»¶å¤„ç†**ï¼ˆworkspace/page.tsxï¼‰ï¼š
   - å°†onMessageChunkä»`addMessage`æ”¹ä¸º`mergeMessageChunk`
   - ä¼ é€’å®Œæ•´çš„chunkæ•°æ®ç»“æ„

#### æŠ€æœ¯æ”¹è¿›
```typescript
// æ—§é€»è¾‘ï¼šæ¯ä¸ªchunkåˆ›å»ºç‹¬ç«‹Message
const message = { id: data.chunk_id, content: data.content, ... };
useUnifiedStore.getState().addMessage(currentThreadId, message);

// æ–°é€»è¾‘ï¼šæ™ºèƒ½åˆå¹¶chunkåˆ°åŒä¸€Message
useUnifiedStore.getState().mergeMessageChunk(currentThreadId, {
  execution_id: data.execution_id,
  agent_name: data.agent_name,
  chunk_type: data.chunk_type,
  // ...
});
```

#### é¢„æœŸæ•ˆæœ
- âœ… åŒä¸€æ‰§è¡Œçš„å¤šä¸ªchunkåˆå¹¶ä¸ºå•ä¸€æ¶ˆæ¯
- âœ… æµå¼å†…å®¹å®æ—¶æ›´æ–°ï¼Œé¿å…æ•°ç™¾ä¸ªç‹¬ç«‹å¡ç‰‡
- âœ… ä¿æŒç°æœ‰å±•ç¤ºç»„ä»¶å…¼å®¹æ€§
- âœ… æ”¯æŒæŒ‰sequenceæ­£ç¡®æ’åºå†…å®¹

### âœ… é˜¶æ®µ2.1ï¼šä¼˜åŒ–äº‹ä»¶æ•°æ®åˆå¹¶é€»è¾‘ï¼ˆå·²å®Œæˆï¼‰

#### é—®é¢˜å‘ç°
ç”¨æˆ·æŒ‡å‡ºå½“å‰å®ç°åªæ˜¯ç®€å•åˆå¹¶contentï¼Œä½†æ²¡æœ‰å¤„ç†chunkå¯¹åº”çš„å…¶ä»–äº‹ä»¶æ•°æ®ï¼Œç±»ä¼¼merge-message.tsçš„åˆå¹¶é€»è¾‘éœ€æ±‚ã€‚

#### åç«¯äº‹ä»¶æ•°æ®ç»“æ„
```python
metadata={
    "urls": extracted["urls"],           # éœ€è¦å»é‡åˆå¹¶
    "images": extracted["images"],       # éœ€è¦å»é‡åˆå¹¶  
    "token_info": token_info,           # éœ€è¦ç´¯ç§¯
    "node": current_node,               # èŠ‚ç‚¹ä¿¡æ¯
}
```

#### ä¼˜åŒ–å®æ–½
å®ç°äº†ç±»ä¼¼merge-message.tsçš„äº‹ä»¶åˆå¹¶é€»è¾‘ï¼š

1. **URLsåˆå¹¶**ï¼šå»é‡åˆå¹¶æ‰€æœ‰chunksä¸­æå–çš„URLs
2. **Imagesåˆå¹¶**ï¼šå»é‡åˆå¹¶æ‰€æœ‰chunksä¸­çš„å›¾ç‰‡é“¾æ¥  
3. **Tokenç´¯ç§¯**ï¼šç´¯åŠ æ‰€æœ‰chunksçš„tokenæ¶ˆè€—å’Œæˆæœ¬
4. **Resourcesç”Ÿæˆ**ï¼šåŸºäºåˆå¹¶åçš„URLsè‡ªåŠ¨ç”ŸæˆMessage.resources
5. **Metadataæ™ºèƒ½åˆå¹¶**ï¼šä¿ç•™å®Œæ•´çš„èšåˆæ•°æ®

#### æŠ€æœ¯æ”¹è¿›
```typescript
// ğŸ”¥ äº‹ä»¶æ•°æ®åˆå¹¶é€»è¾‘
const mergedUrls = new Set<string>();
const mergedImages = new Set<string>();
let totalTokens = { input: 0, output: 0 };

allChunks.forEach((chunk: any) => {
  const meta = chunk.metadata || {};
  // åˆå¹¶URLså’ŒImages
  if (meta.urls) meta.urls.forEach((url: string) => mergedUrls.add(url));
  if (meta.images) meta.images.forEach((img: string) => mergedImages.add(img));
  // ç´¯ç§¯Tokenä¿¡æ¯
  if (meta.token_info) {
    totalTokens.input += meta.token_info.input_tokens || 0;
    totalTokens.output += meta.token_info.output_tokens || 0;
  }
});

// ğŸ”¥ æ›´æ–°Message.resources
existingMessage.resources = Array.from(mergedUrls).map(url => ({
  uri: url,
  title: url,
}));
```

#### æ•ˆæœæå‡
- âœ… å®Œæ•´çš„äº‹ä»¶æ•°æ®åˆå¹¶ï¼Œä¸ä»…ä»…æ˜¯content
- âœ… è‡ªåŠ¨å»é‡URLså’Œå›¾ç‰‡èµ„æº
- âœ… å‡†ç¡®ç´¯ç§¯tokenæ¶ˆè€—ç»Ÿè®¡
- âœ… æ™ºèƒ½ç”ŸæˆMessage.resourcesä¾›å±•ç¤ºç»„ä»¶ä½¿ç”¨
- âœ… ä¿æŒä¸merge-message.tsç±»ä¼¼çš„åˆå¹¶é€»è¾‘ä¸€è‡´æ€§

**ä¸‹ä¸€æ­¥**ï¼šæµ‹è¯•å®Œæ•´çš„äº‹ä»¶åˆå¹¶æ•ˆæœï¼ŒéªŒè¯èµ„æºå’Œtokenç»Ÿè®¡å‡†ç¡®æ€§ã€‚ 